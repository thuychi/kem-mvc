var DOM = require('../lib/dom.js');

module.exports = class Controller extends DOM {

	error(){
		return DOM.createElement('div', null, 'This page not found!');
	}

	_parse_action(action, param) {
		var name = action || 'index', fn = this[name] || this.error;
		var Section = fn.apply(this, param);

		this.emit('section', DOM.createElement(Section));

		if (this.header) this.emit('header', this.header());
		if (this.footer) this.emit('footer', this.footer());
	}

}